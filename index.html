<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Discover - Unfiltered Liquidity Pools</title>
    <style>
        body { font-family: Arial, sans-serif; background: #111; color: #eee; margin: 0; padding: 20px; }
        .header { display: flex; flex-wrap: wrap; gap: 15px; align-items: center; margin-bottom: 20px; }
        h1 { margin: 0; font-size: 24px; }
        .search-bar { padding: 10px; width: 300px; background: #333; border: none; border-radius: 4px; color: white; }
        .filters select { padding: 8px; background: #333; color: white; border: 1px solid #555; border-radius: 4px; }
        table { width: 100%; border-collapse: collapse; background: #222; font-size: 14px; overflow-x: auto; display: block; white-space: nowrap; }
        th, td { padding: 10px 12px; border-bottom: 1px solid #444; text-align: right; }
        th { background: #333; cursor: pointer; user-select: none; }
        th:first-child, td:first-child { text-align: left; }
        .pair-cell { display: flex; align-items: center; gap: 10px; }
        .pair-info { display: flex; flex-direction: column; gap: 2px; font-size: 12px; color: #aaa; }
        .dex-logo { width: 16px; height: 16px; border-radius: 3px; }
        .pair-link { color: #00ff88; text-decoration: none; font-weight: bold; font-size: 14px; }
        .pair-link:hover { text-decoration: underline; }
        .mini-chart { width: 110px; height: 36px; background: #222; border: 1px solid #444; border-radius: 2px; position: relative; overflow: hidden; }
        .star { cursor: pointer; font-size: 18px; }
        .simulate { background: #0066ff; color: white; border: none; padding: 6px 12px; border-radius: 4px; cursor: pointer; font-size: 12px; }
        .positive { color: #00ff88; }
        .footer-controls { margin-top: 20px; text-align: right; }
        .footer-controls select { padding: 8px; background: #333; color: white; border: 1px solid #555; border-radius: 4px; }
        .loading { color: #888; text-align: center; padding: 20px; }
    </style>
</head>
<body>
    <div class="header">
        <h1>Discover - Unfiltered Liquidity Pools</h1>
        <input type="text" class="search-bar" placeholder="Search pair..." id="searchInput">
        <div class="filters">
            <select id="dexFilter"></select>
            <select id="chainFilter"></select>
            <select id="timeFilter">
                <option>30 Days</option>
                <option>7 Days</option>
                <option>24 Hours</option>
            </select>
        </div>
    </div>

    <table>
        <thead>
            <tr>
                <th onclick="sortTable(0)">Pair</th>
                <th onclick="sortTable(1)">Age</th>
                <th onclick="sortTable(2)">TVL</th>
                <th onclick="sortTable(3)">Fees (24h)</th>
                <th onclick="sortTable(4)">Fee/TVL</th>
                <th class="positive" onclick="sortTable(5)">APR (Adj. IL)</th>
                <th onclick="sortTable(6)">Volatility</th>
                <th onclick="sortTable(7)">Correlation</th>
                <th onclick="sortTable(8)">Rewards/TVL</th>
                <th onclick="sortTable(9)">Volume/TVL</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody id="poolsBody"><tr class="loading"><td colspan="11">Loading pools...</td></tr></tbody>
    </table>

    <div class="footer-controls">
        Show <select id="pageSize">
            <option value="10" selected>10</option>
            <option value="20">20</option>
            <option value="50">50</option>
            <option value="100">100</option>
        </select> rows
    </div>

    <script>
        // DEX list ordered by DeFiLlama TVL
        const dexList = ["All DEXs", "Uniswap", "PancakeSwap", "Raydium", "Orca", "SushiSwap", "Aerodrome", "Velodrome", "QuickSwap", "Meteora", "Pump.fun", "HyperSwap", "ProjectX", "Shadow"];
        const dexChainMap = {"Uniswap":"Ethereum","PancakeSwap":"BNB Chain","Raydium":"Solana","Orca":"Solana","SushiSwap":"Ethereum","Aerodrome":"Base","Velodrome":"Optimism","QuickSwap":"Polygon","Meteora":"Solana","Pump.fun":"Solana","HyperSwap":"HyperEVM","ProjectX":"HyperEVM","Shadow":"Sonic"};
        const dexVersion = {"Uniswap":"v3","PancakeSwap":"v3","Raydium":"Concentrated","Orca":"All","SushiSwap":"v3","Aerodrome":"Slipstream","Velodrome":"v3","QuickSwap":"v3","Meteora":"DLMM","Pump.fun":"Launchpad","HyperSwap":"v3","ProjectX":"All","Shadow":"CLMM"};
        // DEX pool URLs (pre-loads pair on pool page)
        const dexPoolUrl = {
            "Uniswap": "https://app.uniswap.org/explore/pools/ethereum/",
            "PancakeSwap": "https://pancakeswap.finance/info/pool/",
            "Raydium": "https://raydium.io/pools/",
            "Orca": "https://www.orca.so/pool/",
            "SushiSwap": "https://www.sushi.com/pool/",
            "Aerodrome": "https://aerodrome.finance/pools/",
            "Velodrome": "https://app.velodrome.finance/pools/",
            "QuickSwap": "https://quickswap.exchange/#/pools/",
            "Meteora": "https://app.meteora.ag/pools/",
            "Pump.fun": "https://pump.fun/",
            "HyperSwap": "https://app.hyperswap.exchange/pools/",
            "ProjectX": "https://projectx.exchange/pools/",
            "Shadow": "https://shadow.exchange/pools/"
        };
        // DEX logos (SVG from crypto-icons-plus GitHub)
        const dexLogos = {
            "Uniswap": '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm0 22.5c-5.799 0-10.5-4.701-10.5-10.5s4.701-10.5 10.5-10.5 10.5 4.701 10.5 10.5-4.701 10.5-10.5 10.5z"/></svg>',
            "PancakeSwap": '<svg viewBox="0 0 24 24" fill="currentColor"><circle cx="12" cy="12" r="12"/></svg>',
            "Raydium": '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/></svg>',
            "Orca": '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm0 22.5c-5.799 0-10.5-4.701-10.5-10.5s4.701-10.5 10.5-10.5 10.5 4.701 10.5 10.5-4.701 10.5-10.5 10.5z"/></svg>',
            "SushiSwap": '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm0 22.5c-5.799 0-10.5-4.701-10.5-10.5s4.701-10.5 10.5-10.5 10.5 4.701 10.5 10.5-4.701 10.5-10.5 10.5z"/></svg>',
            "Aerodrome": '<svg viewBox="0 0 24 24" fill="currentColor"><circle cx="12" cy="12" r="12"/></svg>',
            "Velodrome": '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/></svg>',
            "QuickSwap": '<svg viewBox="0 0 24 24" fill="currentColor"><circle cx="12" cy="12" r="12"/></svg>',
            "Meteora": '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm0 22.5c-5.799 0-10.5-4.701-10.5-10.5s4.701-10.5 10.5-10.5 10.5
